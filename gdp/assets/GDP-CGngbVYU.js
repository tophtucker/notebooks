const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./inputs-DoHVubAa.js","./inputs-Cuu9vI3M.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function G(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:n}):(i=r.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function De(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Te(e){return e===(e|0)+""}function E(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const Qe=Symbol.prototype.toString;function O(e){return Qe.call(e)}const{getOwnPropertySymbols:Ke,prototype:{hasOwnProperty:Ye}}=Object,{toStringTag:qe}=Symbol,Ee={},$=Ke;function J(e,t){return Ye.call(e,t)}function te(e){return e[qe]||e.constructor&&e.constructor.name||"Object"}function b(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return Ee}}const Ge=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function ve(e){try{let t=Ge.filter(({symbol:s})=>e[s]===!0);if(!t.length)return;const n=t.find(s=>!s.modifier),r=n.name==="Map"&&t.find(s=>s.modifier&&s.prefix),i=t.some(s=>s.arrayish),o=t.some(s=>s.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!o,setish:o}}catch{return null}}const{getPrototypeOf:se,getOwnPropertyDescriptors:Fe}=Object,xe=se({});function ge(e,t,n,r){let i=De(e),o,s,a,l;e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,s=Be):(o="Map()",s=k):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,s=Ve):(o="Set()",s=k):i?(o=`${e.constructor.name}(${e.length})`,s=Ze):(l=ve(e))?(o=`Immutable.${l.name}${l.name==="Record"?"":`(${e.size})`}`,i=l.arrayish,s=l.arrayish?Je:l.setish?We:Xe):r?(o=te(e),s=He):(o=te(e),s=k);const u=document.createElement("span");u.className="observablehq--expanded",n&&u.appendChild(E(n));const c=u.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),c.addEventListener("mouseup",function(d){d.stopPropagation(),B(u,ae(e,null,n,r))}),s=s(e);for(let d=0;!(a=s.next()).done&&d<20;++d)u.appendChild(a.value);if(!a.done){const d=u.appendChild(document.createElement("a"));d.className="observablehq--field",d.style.display="block",d.appendChild(document.createTextNode("  … more")),d.addEventListener("mouseup",function(f){f.stopPropagation(),u.insertBefore(a.value,u.lastChild.previousSibling);for(let w=0;!(a=s.next()).done&&w<19;++w)u.insertBefore(a.value,u.lastChild.previousSibling);a.done&&u.removeChild(u.lastChild.previousSibling),G(u,"load")})}return u.appendChild(document.createTextNode(i?"]":"}")),u}function*Be(e){for(const[t,n]of e)yield et(t,n);yield*k(e)}function*Ve(e){for(const t of e)yield Le(t);yield*k(e)}function*We(e){for(const t of e)yield Le(t)}function*Ze(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield x(t,b(e,t),"observablehq--index"));for(const t in e)!Te(t)&&J(e,t)&&(yield x(t,b(e,t),"observablehq--key"));for(const t of $(e))yield x(O(t),b(e,t),"observablehq--symbol")}function*Je(e){let t=0;for(const n=e.size;t<n;++t)yield x(t,e.get(t),!0)}function*He(e){for(const n in Fe(e))yield x(n,b(e,n),"observablehq--key");for(const n of $(e))yield x(O(n),b(e,n),"observablehq--symbol");const t=se(e);t&&t!==xe&&(yield Ae(t))}function*k(e){for(const n in e)J(e,n)&&(yield x(n,b(e,n),"observablehq--key"));for(const n of $(e))yield x(O(n),b(e,n),"observablehq--symbol");const t=se(e);t&&t!==xe&&(yield Ae(t))}function*Xe(e){for(const[t,n]of e)yield x(t,n,"observablehq--key")}function Ae(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(_(e,void 0,void 0,void 0,!0)),t}function x(e,t,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(_(t)),r}function et(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(_(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(_(t)),n}function Le(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(_(e)),t}function fe(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||e.contains(t.anchorNode)||e.contains(t.focusNode))}function ae(e,t,n,r){let i=De(e),o,s,a,l;if(e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,s=tt):(o="Map()",s=P):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,s=nt):(o="Set()",s=P):i?(o=`${e.constructor.name}(${e.length})`,s=ot):(l=ve(e))?(o=`Immutable.${l.name}${l.name==="Record"?"":`(${e.size})`}`,i=l.arrayish,s=l.arrayish?it:l.setish?rt:st):(o=te(e),s=P),t){const d=document.createElement("span");return d.className="observablehq--shallow",n&&d.appendChild(E(n)),d.appendChild(document.createTextNode(o)),d.addEventListener("mouseup",function(f){fe(d)||(f.stopPropagation(),B(d,ae(e)))}),d}const u=document.createElement("span");u.className="observablehq--collapsed",n&&u.appendChild(E(n));const c=u.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),u.addEventListener("mouseup",function(d){fe(u)||(d.stopPropagation(),B(u,ge(e,null,n,r)))},!0),s=s(e);for(let d=0;!(a=s.next()).done&&d<20;++d)d>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(a.value);return a.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(i?"]":"}")),u}function*tt(e){for(const[t,n]of e)yield at(t,n);yield*P(e)}function*nt(e){for(const t of e)yield _(t,!0);yield*P(e)}function*rt(e){for(const t of e)yield _(t,!0)}function*it(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield F(n-t-1)),yield _(e.get(n),!0),t=n;n>t+1&&(yield F(n-t-1))}function*ot(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield F(n-t-1)),yield _(b(e,n),!0),t=n);n>t+1&&(yield F(n-t-1));for(const r in e)!Te(r)&&J(e,r)&&(yield U(r,b(e,r),"observablehq--key"));for(const r of $(e))yield U(O(r),b(e,r),"observablehq--symbol")}function*P(e){for(const t in e)J(e,t)&&(yield U(t,b(e,t),"observablehq--key"));for(const t of $(e))yield U(O(t),b(e,t),"observablehq--symbol")}function*st(e){for(const[t,n]of e)yield U(t,n,"observablehq--key")}function F(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function U(e,t,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(_(t,!0)),r}function at(e,t){const n=document.createDocumentFragment();return n.appendChild(_(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(_(t,!0)),n}function ut(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${lt(e.getUTCFullYear())}-${v(e.getUTCMonth()+1,2)}-${v(e.getUTCDate(),2)}${n||r||i||o?`T${v(n,2)}:${v(r,2)}${i||o?`:${v(i,2)}${o?`.${v(o,3)}`:""}`:""}Z`:""}`}function lt(e){return e<0?`-${v(-e,6)}`:e>9999?`+${v(e,6)}`:v(e,4)}function v(e,t){return`${e}`.padStart(t,"0")}function ct(e){return ut(e,"Invalid Date")}var dt=Error.prototype.toString;function ft(e){return e.stack||dt.call(e)}var pt=RegExp.prototype.toString;function ht(e){return pt.call(e)}const X=20;function mt(e,t,n,r){if(t===!1){if(he(e,/["\n]/g)<=he(e,/`|\${/g)){const u=document.createElement("span");r&&u.appendChild(E(r));const c=u.appendChild(document.createElement("span"));return c.className="observablehq--string",c.textContent=JSON.stringify(e),u}const s=e.split(`
`);if(s.length>X&&!n){const u=document.createElement("div");r&&u.appendChild(E(r));const c=u.appendChild(document.createElement("span"));c.className="observablehq--string",c.textContent="`"+pe(s.slice(0,X).join(`
`));const d=u.appendChild(document.createElement("span")),f=s.length-X;return d.textContent=`Show ${f} truncated line${f>1?"s":""}`,d.className="observablehq--string-expand",d.addEventListener("mouseup",function(w){w.stopPropagation(),B(u,_(e,t,!0,r))}),u}const a=document.createElement("span");r&&a.appendChild(E(r));const l=a.appendChild(document.createElement("span"));return l.className=`observablehq--string${n?" observablehq--expanded":""}`,l.textContent="`"+pe(e)+"`",a}const i=document.createElement("span");r&&i.appendChild(E(r));const o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),i}function pe(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Mt)}function Mt(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function he(e,t){for(var n=0;t.exec(e);)++n;return n}var wt=Function.prototype.toString,yt={prefix:"async ƒ"},_t={prefix:"async ƒ*"},me={prefix:"class"},bt={prefix:"ƒ"},Dt={prefix:"ƒ*"};function Tt(e,t){var n,r,i=wt.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=yt;break;case"AsyncGeneratorFunction":n=_t;break;case"GeneratorFunction":n=Dt;break;default:n=/^class\b/.test(i)?me:bt;break}return n===me?I(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?I(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?I(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?I(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):I(n,"(…)",t)}function I(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(E(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:Et}}=Object;function _(e,t,n,r,i){let o=typeof e;switch(o){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=O(e);break}case"function":return Tt(e,r);case"string":return mt(e,t,n,r);default:{if(e===null){o=null,e="null";break}if(e instanceof Date){o="date",e=ct(e);break}if(e===Ee){o="forbidden",e="[forbidden]";break}switch(Et.call(e)){case"[object RegExp]":{o="regexp",e=ht(e);break}case"[object Error]":case"[object DOMException]":{o="error",e=ft(e);break}default:return(n?ge:ae)(e,t,r,i)}break}}const s=document.createElement("span");r&&s.appendChild(E(r));const a=s.appendChild(document.createElement("span"));return a.className=`observablehq--${o}`,a.textContent=e,s}function B(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),G(t,"load")}const vt=/\s+\(\d+:\d+\)$/m;class V{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!xt(t)||t.parentNode&&t.parentNode!==r)&&(t=_(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);G(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(E(n)),i.appendChild(document.createTextNode((t+"").replace(vt,""))),r.appendChild(i),G(r,"error",{error:t})}}V.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new V(e.appendChild(document.createElement("div")))}};function xt(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function gt(e,t){const n=document.createElement("div");if(new V(n).fulfilled(e),t)for(const r of t){let i=n;for(const o of r)i=i?.childNodes[o];i?.dispatchEvent(new Event("mouseup"))}return n}function At(e){const t=document.createElement("div");return new V(t).rejected(e),t}function Lt(e){if(!St(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>Ct(e,n))}function Nt(e){return e.nodeType===1}function St(e){return Nt(e)&&e.classList.contains("observablehq")}function Ct(e,t){const n=[];for(;t!==e;)n.push(jt(t)),t=t.parentNode;return n.reverse()}function jt(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}const Ot=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),It=["img[srcset]","picture source[srcset]"].join(),kt=["a[href][download]","link[href]"].join(),Pt=[[Ot,"src"],[It,"srcset"],[kt,"href"]];function zt(e,t){const n=r=>t.get($t(r))??r;for(const[r,i]of Pt)for(const o of e.querySelectorAll(r)){if(Ut(o))continue;const s=decodeURI(o.getAttribute(i));i==="srcset"?o.setAttribute(i,Kt(s,n)):o.setAttribute(i,n(s))}}function Ut(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}function Rt(e){const t=e.indexOf("?"),n=e.indexOf("#"),r=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return r>=0?e.slice(0,r):e}function $t(e){const t=Rt(e);return Qt(t)?t:`./${t}`}function Qt(e){return["./","../","/"].some(t=>e.startsWith(t))}function Kt(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const r=n.split(/\s+/),i=t(r[0]);return i&&(r[0]=encodeURI(i)),r.join(" ")}).join(", ")}function Ne(e,t){const{root:n,expanded:r}=e,i=qt(t,n)?t:gt(t,r[n.childNodes.length]);Se(e,i)}function Se(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}function Yt(e,t){Se(e,At(t))}function qt(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}function z(e){for(e.expanded=Array.from(e.root.childNodes,Lt);e.root.lastChild;)e.root.lastChild.remove()}function Gt(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,z(e))},fulfilled(r){t&&(z(e),n&&r instanceof Element&&zt(r,n),Ne(e,r))},rejected(r){console.error(r),this._error=!0,z(e),Yt(e,r)}}}class g extends Error{constructor(t,n){super(t),this.input=n}}g.prototype.name="RuntimeError";function Ft(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function ne(e){return()=>e}function W(e){return e}function Bt(e){return()=>{throw e}}const Vt=Array.prototype,Wt=Vt.map;function L(){}const ue=1,Q=2,Y=3,R=Symbol("no-observer"),Zt=Promise.resolve();function N(e,t,n,r){n||(n=R),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:le,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:L,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Zt,writable:!0},_reachable:{value:n!==R,writable:!0},_rejector:{value:en(this)},_shadow:{value:Jt(t,r)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(N.prototype,{_pending:{value:sn,writable:!0,configurable:!0},_fulfilled:{value:an,writable:!0,configurable:!0},_rejected:{value:un,writable:!0,configurable:!0},_resolve:{value:nn,writable:!0,configurable:!0},define:{value:tn,writable:!0,configurable:!0},delete:{value:on,writable:!0,configurable:!0},import:{value:rn,writable:!0,configurable:!0}});function Jt(e,t){return t?.shadow?new Map(Object.entries(t.shadow).map(([n,r])=>[n,new N(Q,e).define([],r)])):null}function Ht(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function Xt(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function le(){throw le}function A(){throw A}function en(e){return t=>{throw t===A?t:t===le?new g(`${e._name} is not defined`,e._name):t instanceof Error&&t.message?new g(t.message,e._name):new g(`${e._name} could not be resolved`,e._name)}}function Me(e){return()=>{throw new g(`${e} is defined more than once`)}}function tn(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return ce.call(this,e==null?null:String(e),t==null?[]:Wt.call(t,this._resolve,this),typeof n=="function"?n:ne(n))}function nn(e){return this._shadow?.get(e)??this._module._resolve(e)}function ce(e,t,n){const r=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(Xt,this),t.forEach(Ht,this),this._inputs=t,this._definition=n,this._value=void 0,n===L?i._variables.delete(this):i._variables.add(this),e!==this._name||r.get(e)!==this){let o,s;if(this._name)if(this._outputs.size)r.delete(this._name),s=this._module._resolve(this._name),s._outputs=this._outputs,this._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(this)]=s},this),s._outputs.forEach(i._updates.add,i._updates),i._dirty.add(s).add(this),r.set(this._name,s);else if((s=r.get(this._name))===this)r.delete(this._name);else if(s._type===Y)s._duplicates.delete(this),this._duplicate=void 0,s._duplicates.size===1&&(s=s._duplicates.keys().next().value,o=r.get(this._name),s._outputs=o._outputs,o._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=s}),s._definition=s._duplicate,s._duplicate=void 0,i._dirty.add(o).add(s),i._updates.add(s),r.set(this._name,s));else throw new Error;if(this._outputs.size)throw new Error;e&&((s=r.get(e))?s._type===Y?(this._definition=Me(e),this._duplicate=n,s._duplicates.add(this)):s._type===Q?(this._outputs=s._outputs,s._outputs=new Set,this._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=this},this),i._dirty.add(s).add(this),r.set(e,this)):(s._duplicate=s._definition,this._duplicate=n,o=new N(Y,this._module),o._name=e,o._definition=this._definition=s._definition=Me(e),o._outputs=s._outputs,s._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=o}),o._duplicates=new Set([this,s]),i._dirty.add(s).add(o),i._updates.add(s).add(o),r.set(e,o)):r.set(e,this)),this._name=e}return this._version>0&&++this._version,i._updates.add(this),i._compute(),this}function rn(e,t,n){return arguments.length<3&&(n=t,t=e),ce.call(this,String(t),[n._resolve(String(e))],W)}function on(){return ce.call(this,null,[],L)}function sn(){this._observer.pending&&this._observer.pending()}function an(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function un(e){this._observer.rejected&&this._observer.rejected(e,this._name)}const Ce=Symbol("variable"),je=Symbol("invalidation"),Oe=Symbol("visibility");function Z(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",Ce],["invalidation",je],["visibility",Oe],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(Z.prototype,{_resolve:{value:mn,writable:!0,configurable:!0},redefine:{value:ln,writable:!0,configurable:!0},define:{value:cn,writable:!0,configurable:!0},derive:{value:hn,writable:!0,configurable:!0},import:{value:dn,writable:!0,configurable:!0},value:{value:pn,writable:!0,configurable:!0},variable:{value:fn,writable:!0,configurable:!0},builtin:{value:Mn,writable:!0,configurable:!0}});function ln(e){const t=this._scope.get(e);if(!t)throw new g(`${e} is not defined`);if(t._type===Y)throw new g(`${e} is defined more than once`);return t.define.apply(t,arguments)}function cn(){const e=new N(ue,this);return e.define.apply(e,arguments)}function dn(){const e=new N(ue,this);return e.import.apply(e,arguments)}function fn(e,t){return new N(ue,this,e,t)}async function pn(e){let t=this._scope.get(e);if(!t)throw new g(`${e} is not defined`);if(t._observer===R){t=this.variable(!0).define([e],W);try{return await re(this._runtime,t)}finally{t.delete()}}else return re(this._runtime,t)}async function re(e,t){await e._compute();try{return await t._promise}catch(n){if(n===A)return re(e,t);throw n}}function hn(e,t){const n=new Map,r=new Set,i=[];function o(a){let l=n.get(a);return l||(l=new Z(a._runtime,a._builtins),l._source=a,n.set(a,l),i.push([l,a]),r.add(a),l)}const s=o(this);for(const a of e){const{alias:l,name:u}=typeof a=="object"?a:{name:a};s.import(u,l??u,t)}for(const a of r)for(const[l,u]of a._scope)if(u._definition===W){if(a===this&&s._scope.has(l))continue;const c=u._inputs[0]._module;c._source&&o(c)}for(const[a,l]of i)for(const[u,c]of l._scope){const d=a._scope.get(u);if(!(d&&d._type!==Q))if(c._definition===W){const f=c._inputs[0],w=f._module;a.import(f._name,u,n.get(w)||w)}else a.define(u,c._inputs.map(wn),c._definition)}return s}function mn(e){let t=this._scope.get(e),n;if(!t)if(t=new N(Q,this),this._builtins.has(e))t.define(e,ne(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(r){return t.define(e,Bt(r))}n===void 0?this._scope.set(t._name=e,t):t.define(e,ne(n))}return t}function Mn(e,t){this._builtins.set(e,t)}function wn(e){return e._name}const yn=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);function Ie(e,t=Pn){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const r in e)new N(Q,n).define(r,[],e[r])}Object.defineProperties(Ie.prototype,{_precompute:{value:Dn,writable:!0,configurable:!0},_compute:{value:Tn,writable:!0,configurable:!0},_computeSoon:{value:En,writable:!0,configurable:!0},_computeNow:{value:vn,writable:!0,configurable:!0},dispose:{value:_n,writable:!0,configurable:!0},module:{value:bn,writable:!0,configurable:!0}});function _n(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function bn(e,t=L){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new Z(this);if(n=this._modules.get(e),n)return n;this._init=n=new Z(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}function Dn(e){this._precomputes.push(e),this._compute()}function Tn(){return this._computing||(this._computing=this._computeSoon())}function En(){return new Promise(yn).then(()=>this._disposed?void 0:this._computeNow())}async function vn(){let e=[],t,n,r=this._precomputes;if(r.length){this._precomputes=[];for(const o of r)o();await xn(3)}t=new Set(this._dirty),t.forEach(function(o){o._inputs.forEach(t.add,t);const s=kn(o);s>o._reachable?this._updates.add(o):s<o._reachable&&o._invalidate(),o._reachable=s},this),t=new Set(this._updates),t.forEach(function(o){o._reachable?(o._indegree=0,o._outputs.forEach(t.add,t)):(o._indegree=NaN,t.delete(o))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(o){o._outputs.forEach(An)});do{for(t.forEach(function(o){o._indegree===0&&e.push(o)});n=e.pop();)Cn(n),n._outputs.forEach(i),t.delete(n);t.forEach(function(o){gn(o)&&(On(o,new g("circular definition")),o._outputs.forEach(Ln),t.delete(o))})}while(t.size);function i(o){--o._indegree===0&&e.push(o)}}function xn(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}function gn(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function An(e){++e._indegree}function Ln(e){--e._indegree}function Nn(e){return e._promise.catch(e._rejector)}function ee(e){return new Promise(function(t){e._invalidate=t})}function Sn(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,r=!n,i=L,o=L,s,a;return n&&(a=new IntersectionObserver(([l])=>(r=l.isIntersecting)&&(s=null,i())),a.observe(n),e.then(()=>(a.disconnect(),a=null,o()))),function(l){return r?Promise.resolve(l):a?(s||(s=new Promise((u,c)=>(i=u,o=c))),s.then(()=>l)):Promise.reject()}}function Cn(e){e._invalidate(),e._invalidate=L,e._pending();const t=e._value,n=++e._version,r=e._inputs,i=e._definition;let o=null;const s=e._promise=e._promise.then(a,a).then(l).then(u);function a(){return Promise.all(r.map(Nn))}function l(c){if(e._version!==n)throw A;for(let d=0,f=c.length;d<f;++d)switch(c[d]){case je:{c[d]=o=ee(e);break}case Oe:{o||(o=ee(e)),c[d]=Sn(o,e);break}case Ce:{c[d]=e;break}}return i.apply(t,c)}function u(c){if(e._version!==n)throw A;return Ft(c)?((o||ee(e)).then(In(c)),jn(e,n,c)):c}s.then(c=>{e._value=c,e._fulfilled(c)},c=>{c===A||e._version!==n||(e._value=void 0,e._rejected(c))})}function jn(e,t,n){const r=e._module._runtime;let i;function o(l){return new Promise(u=>u(n.next(i))).then(({done:u,value:c})=>u?void 0:Promise.resolve(c).then(l))}function s(){const l=o(u=>{if(e._version!==t)throw A;return i=u,a(u,l).then(()=>r._precompute(s)),e._fulfilled(u),u});l.catch(u=>{u===A||e._version!==t||(a(void 0,l),e._rejected(u))})}function a(l,u){return e._value=l,e._promise=u,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return o(l=>{if(e._version!==t)throw A;return i=l,r._precompute(s),l})}function On(e,t){e._invalidate(),e._invalidate=L,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(L),e._value=void 0,e._rejected(t)}function In(e){return function(){e.return()}}function kn(e){if(e._observer!==R)return!0;const t=new Set(e._outputs);for(const n of t){if(n._observer!==R)return!0;n._outputs.forEach(t.add,t)}return!1}function Pn(e){return globalThis[e]}const zn="modulepreload",Un=function(e,t){return new URL(e,t).href},we={},p=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(c=>{if(c=Un(c,r),c in we)return;we[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let y=s.length-1;y>=0;y--){const m=s[y];if(m.href===c&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":zn,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((y,m)=>{h.addEventListener("load",y),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},ye=new Map;function ke(e,t=document.baseURI){if(new.target!==void 0)throw new TypeError("FileAttachment is not a constructor");const n=new URL(e,t).href;let r=ye.get(n);return r||(r=new j(n,e.split("/").pop()),ye.set(n,r)),r}async function C(e){const t=await fetch(e.href);if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}class Rn{constructor(t,n=$n(t),r,i){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastModified",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:`${t}`,enumerable:!0},mimeType:{value:`${n}`,enumerable:!0},lastModified:{value:r===void 0?void 0:+r,enumerable:!0},size:{value:i===void 0?void 0:+i,enumerable:!0}})}async url(){return this.href}async blob(){return(await C(this)).blob()}async arrayBuffer(){return(await C(this)).arrayBuffer()}async text(t){return t===void 0?(await C(this)).text():new TextDecoder(t).decode(await this.arrayBuffer())}async json(){return(await C(this)).json()}async stream(){return(await C(this)).body}async dsv({delimiter:t=",",array:n=!1,typed:r=!1}={}){const[i,o]=await Promise.all([this.text(),p(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]),s=o.dsvFormat(t);return(n?s.parseRows:s.parse)(i,r&&o.autoType)}async csv(t){return this.dsv({...t,delimiter:","})}async tsv(t){return this.dsv({...t,delimiter:"	"})}async image(t){const n=await this.url();return new Promise((r,i)=>{const o=new Image;new URL(n,document.baseURI).origin!==location.origin&&(o.crossOrigin="anonymous"),Object.assign(o,t),o.onload=()=>r(o),o.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),o.src=n})}async arrow(){const[t,n]=await Promise.all([p(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),C(this)]);return t.tableFromIPC(n)}async arquero(t){let n,r;switch(this.mimeType){case"application/json":n=this.text(),r="fromJSON";break;case"text/tab-separated-values":t?.delimiter===void 0&&(t={...t,delimiter:"	"});case"text/csv":n=this.text(),r="fromCSV";break;default:if(/\.arrow$/i.test(this.name))n=this.arrow(),r="fromArrow";else if(/\.parquet$/i.test(this.name))n=this.parquet(),r="fromArrow";else throw new Error(`unable to determine Arquero loader: ${this.name}`);break}const[i,o]=await Promise.all([p(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),n]);return i[r](o,t)}async parquet(){const[t,n,r]=await Promise.all([p(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),p(()=>import("https://cdn.jsdelivr.net/npm/parquet-wasm/+esm"),[],import.meta.url).then(async i=>(await i.default("https://cdn.jsdelivr.net/npm/parquet-wasm/esm/parquet_wasm_bg.wasm"),i)),this.arrayBuffer()]);return t.tableFromIPC(n.readParquet(new Uint8Array(r)).intoIPCStream())}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}}function $n(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/");switch(t>0&&(n<0||t>n)?e.slice(t).toLowerCase():""){case".csv":return"text/csv";case".tsv":return"text/tab-separated-values";case".json":return"application/json";case".html":return"text/html";case".xml":return"application/xml";case".png":return"image/png";case".jpg":return"image/jpg";case".js":return"text/javascript";default:return"application/octet-stream"}}class j extends Rn{constructor(t,n,r,i,o){super(n,r,i,o),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{value:t})}}Object.defineProperty(j,"name",{value:"FileAttachment"});ke.prototype=j.prototype;function Qn(e){function t(n){const r=e(n+="");if(r==null)throw new Error(`File not found: ${n}`);if(typeof r=="object"&&"url"in r){const{url:i,mimeType:o}=r;return new j(i,n,o)}return new j(r,n)}return t.prototype=j.prototype,t}async function*H(e){let t,n,r=!1;const i=e(o=>(n=o,t?(t(o),t=void 0):r=!0,o));if(i!=null&&typeof i!="function")throw new Error(typeof i=="object"&&"then"in i&&typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield r?(r=!1,n):new Promise(o=>t=o)}finally{i?.()}}function Pe(e){let t;return Object.defineProperty(H(n=>{t=n,e!==void 0&&t(e)}),"value",{get:()=>e,set:n=>(e=n,void t?.(e))})}function Kn(e){const t=Pe(e);return[t,{get value(){return t.value},set value(n){t.value=n}}]}function ie(e){return H(t=>{const n=Yn(e),r=_e(e),i=()=>t(_e(e));return e.addEventListener(n,i),r!==void 0&&t(r),()=>e.removeEventListener(n,i)})}function _e(e){const t=e,n=e;if("type"in e)switch(e.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(n.selectedOptions,r=>r.value)}return t.value}function Yn(e){if("type"in e)switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change"}return"input"}async function*ze(){for(;;)yield Date.now()}async function*qn(e){let t;const n=[],r=e(i=>(n.push(i),t&&(t(n.shift()),t=void 0),i));if(r!=null&&typeof r!="function")throw new Error(typeof r=="object"&&"then"in r&&typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield n.length?n.shift():new Promise(i=>t=i)}finally{r?.()}}function Ue(e,t){return H(n=>{let r;const i=new ResizeObserver(([o])=>{const s=o.contentRect.width;s!==r&&n(r=s)});return i.observe(e,t),()=>i.disconnect()})}const Gn=Object.freeze(Object.defineProperty({__proto__:null,input:ie,now:ze,observe:H,queue:qn,width:Ue},Symbol.toStringTag,{value:"Module"}));function Fn(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}function Bn(e,t,n=devicePixelRatio){const r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=`${e}px`;const i=r.getContext("2d");return i.scale(n,n),i}function Vn(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n}function Wn(e){return document.createTextNode(e)}let Zn=0;function Jn(e){return new Hn(`O-${e==null?"":`${e}-`}${++Zn}`)}class Hn{constructor(t){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=t,this.href=new URL(`#${t}`,location.href).href}toString(){return`url(${this.href})`}}const Xn=Object.freeze(Object.defineProperty({__proto__:null,canvas:Fn,context2d:Bn,svg:Vn,text:Wn,uid:Jn},Symbol.toStringTag,{value:"Module"}));var er=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},tr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},q;class nr{constructor(){q.set(this,void 0),Object.defineProperty(this,"fulfilled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rejected",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.next()}async next(){const t=await er(this,q,"f");return tr(this,q,new Promise((n,r)=>(this.fulfilled=n,this.rejected=r)),"f"),{done:!1,value:t}}throw(){return{done:!0}}return(){return{done:!0}}}q=new WeakMap;const rr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/lodash/+esm"),[],import.meta.url).then(e=>e.default),ir=()=>p(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),or=()=>p(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),sr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/d3/+esm"),[],import.meta.url),ar=()=>p(()=>import("./dot-DSyh6hFx.js"),[],import.meta.url).then(e=>e.dot),ur=()=>p(()=>import("https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm/+esm"),[],import.meta.url),lr=()=>p(()=>import("./duckdb-DqJvCXXz.js"),[],import.meta.url).then(e=>e.DuckDBClient),cr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/echarts/+esm"),[],import.meta.url),dr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url),fr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.html),pr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.svg),hr=()=>p(()=>import("./inputs-DoHVubAa.js"),__vite__mapDeps([0,1]),import.meta.url),mr=()=>p(()=>import("./leaflet-D54mqpIu.js"),[],import.meta.url),Mr=()=>p(()=>import("./mapboxgl-C94UFoDx.js"),[],import.meta.url).then(e=>e.default),wr=()=>p(()=>import("./md-Oh7_iHaM.js"),[],import.meta.url).then(e=>e.md),yr=()=>p(()=>import("./mermaid-CWCaPgOr.js"),[],import.meta.url).then(e=>e.mermaid),_r=()=>p(()=>import("https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm"),[],import.meta.url),br=()=>p(()=>import("https://cdn.jsdelivr.net/npm/react/+esm"),[],import.meta.url),Dr=()=>p(()=>import("https://cdn.jsdelivr.net/npm/react-dom/+esm"),[],import.meta.url),Tr=()=>p(()=>import("./tex-BE43Lb2g.js"),[],import.meta.url).then(e=>e.tex),Er=()=>p(()=>import("https://cdn.jsdelivr.net/npm/topojson-client/+esm"),[],import.meta.url),vr=()=>p(()=>import("./vega-lite-ClQwpDTB.js"),[],import.meta.url).then(e=>e.vl),xr=Object.freeze(Object.defineProperty({__proto__:null,Arrow:or,DuckDBClient:lr,Inputs:hr,L:mr,Plot:_r,React:br,ReactDOM:Dr,_:rr,aq:ir,d3:sr,dot:ar,duckdb:ur,echarts:cr,htl:dr,html:fr,mapboxgl:Mr,md:wr,mermaid:yr,svg:pr,tex:Tr,topojson:Er,vl:vr},Symbol.toStringTag,{value:"Module"}));de.resolve=Re;function de(...e){return e.length===1?import(Re(e[0])):Promise.all(e.map(t=>de(t))).then(t=>Object.assign({},...t))}function gr(e){const t=e.split("/"),n=e.startsWith("@")?[t.shift(),t.shift()].join("/"):t.shift(),r=n.indexOf("@",1),i=r>0?n.slice(0,r):n,o=r>0?n.slice(r):"",s=t.length>0?`/${t.join("/")}`:"";return{name:i,range:o,path:s}}function Re(e){const t=String(e);if(Ar(t)||Lr(t))return t;const{name:n,range:r,path:i}=gr(t);return`https://cdn.jsdelivr.net/npm/${n}${r}${i+(Nr(i)||Sr(i)?"":"/+esm")}`}function Ar(e){return/^\w+:/.test(e)}function Lr(e){return/^(\.\/|\.\.\/|\/)/.test(e)}function Nr(e){return/(\.\w*)$/.test(e)}function Sr(e){return/(\/)$/.test(e)}const Cr=()=>T(D("aapl.csv")),jr=()=>T(D("alphabet.csv")),Or=()=>T(D("cars.csv")),Ir=()=>T(D("citywages.csv")),kr=()=>T(D("diamonds.csv")),Pr=()=>T(D("flare.csv")),zr=()=>T(D("industries.csv")),Ur=()=>Yr(D("miserables.json")),Rr=()=>T(D("olympians.csv")),$r=()=>T(D("penguins.csv")),Qr=()=>T(D("pizza.csv")),Kr=()=>T(D("weather.csv"));function D(e){return`https://cdn.jsdelivr.net/npm/@observablehq/sample-datasets/${e}`}async function Yr(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.json()}async function qr(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.text()}async function T(e,t){const[n,r]=await Promise.all([qr(e),p(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]);return r.csvParse(n,r.autoType)}const Gr=Object.freeze(Object.defineProperty({__proto__:null,aapl:Cr,alphabet:jr,cars:Or,citywages:Ir,diamonds:kr,flare:Pr,industries:zr,miserables:Ur,olympians:Rr,penguins:$r,pizza:Qr,weather:Kr},Symbol.toStringTag,{value:"Module"}));function Fr(e,t){return(n,...r)=>e.sql.call(e,n,...r).then(t)}const Br=document.querySelector("main")??document.body,Vr={now:()=>ze(),width:()=>Ue(Br),FileAttachment:()=>ke,Generators:()=>Gn,Mutable:()=>Pe,DOM:()=>Xn,require:()=>de,__sql:()=>Fr,__ojs_observer:()=>()=>new nr,...xr,...Gr},oe=Object.assign(new Ie({...Vr,__ojs_runtime:()=>oe}),{fileAttachments:Qn}),S=oe.main=oe.module();S.constructor.prototype.defines=function(e){return this._scope.has(e)||this._builtins.has(e)||this._runtime._builtin._scope.has(e)};function M(e,t,n=Gt){const{id:r,body:i,inputs:o=[],outputs:s=[],output:a,autodisplay:l,autoview:u,automutable:c}=t,d=e.variables,f=S.variable(n(e,t),{shadow:{}}),w=a??(s.length?`cell ${r}`:null);if(o.includes("display")||o.includes("view")){let h=-1;const y=new f.constructor(2,f._module);if(y.define(o.filter(m=>m!=="display"&&m!=="view"),()=>{const m=f._version;return K=>{if(m<h)throw new Error("stale display");if(e.variables[0]!==f)throw new Error("stale display");return m>h&&z(e),h=m,Ne(e,K),K}}),f._shadow.set("display",y),o.includes("view")){const m=new f.constructor(2,f._module,null,{shadow:{}});m._shadow.set("display",y),m.define(["display"],K=>$e=>ie(K($e))),f._shadow.set("view",m)}}else l||z(e);if(d.push(f.define(w,o,i)),a!=null){if(u){const h=be(a,"viewof$");d.push(S.define(h,[a],ie))}else if(c){const h=be(a,"mutable "),y=`cell ${r}`;f.define(h,[y],([m])=>m),d.push(S.define(a,o,i),S.define(y,[a],Kn),S.define(`mutable$${h}`,[y],([,m])=>m))}}else for(const h of s)d.push(S.variable(!0).define(h,[w],y=>y[h]))}function be(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}M({root:document.getElementById("cell-1"),expanded:[],variables:[]},{id:1,body:async(e,t)=>e`# Massachusetts vs. U.S. GDP over time

I said the same thing to Claude (Sonnet 4) and ChatGPT (5 Thinking): “make a chart of Massachusetts's share of U.S. GDP over time”.

They both searched the web. Then Claude created an artifact with an interactive Chart.js line chart, and ChatGPT ran some Python to generate a static image. They both looked like they had completed the task, but their answers disagreed:

<table>
  <thead>
    <tr>
      <th style="text-align: center;"><a href="https://claude.ai/share/6c4602d1-3aad-4e67-9a49-72b23774acb6">Claude</a></th>
      <th style="text-align: center;"><a href="https://chatgpt.com/share/689e7d77-f8dc-800b-8c9d-7f0b03587306">ChatGPT</a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src=${await t(new URL(""+new URL("claude-CpKw4QkQ.png",import.meta.url).href,import.meta.url).href).url()} /></td>
      <td><img src=${await t(new URL(""+new URL("chatgpt-vmCA1x8O.png",import.meta.url).href,import.meta.url).href).url()} /></td>
    </tr>
  </tbody>
</table>

In their searching, we can see that they both landed on the same two FRED series: [Gross Domestic Product (GDP)](https://fred.stlouisfed.org/series/GDP) and [Gross Domestic Product: All Industry Total in Massachusetts (MANGSP)](https://fred.stlouisfed.org/series/MANGSP). “I can manually copy the values for 1997-2024 from both tables,” said ChatGPT; “It’s a bit tedious but manageable with 28 rows.” They both hardcoded the “manually” transcribed data into their code.

Claude’s data was:`,inputs:["md","FileAttachment"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-2"),expanded:[],variables:[]},{id:2,body:e=>{const t={years:[1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],maGDP:[274.2,292.8,310.5,334.7,348.2,356.4,367.8,388.2,408.9,427.3,441.8,450.2,435.8,457.2,474.6,493.8,507.9,526.4,545.8,559.2,578.3,603.2,625.8,592.7,649.5,695.6,736.3,780.7],usGDP:[8608.5,9089.2,9660.6,10252.3,10581.8,10929.1,11458.2,12213.7,13036.6,13815.6,14477.6,14718.6,14418.7,14992.1,15542.6,16197,16784.8,17527.3,18120.7,18624.5,19485.4,20533.1,21372.6,20953,23315.1,25462.7,27361,29184.9]};return e(t),{claude:t}},inputs:["display"],outputs:["claude"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-5"),expanded:[],variables:[]},{id:5,body:(e,t)=>{const n={years:e.range(1997,2025),ma_gdp_millions:[236435.6,247686.8,262868.8,287091.4,294876.4,299915.8,309736.1,324919,340637.8,358418.3,377985.6,387923.4,388963.9,409270,423684.9,441373.9,452580.4,469824.9,497767,514108,530129.4,559605,588069.5,592653,649511.4,695612.1,736296.3,780666.2],us_gdp_billions:[8577.552,9062.817,9631.172,10250.952,10581.929,10929.108,11456.45,12217.196,13039.197,13815.583,14474.228,14769.862,14478.067,15048.971,15599.732,16253.97,16880.683,17608.138,18295.019,18804.913,19612.102,20656.516,21539.982,21354.105,23681.171,26006.893,27720.709,29184.89]};return t(n),{chatgpt:n}},inputs:["d3","display"],outputs:["chatgpt"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-10"),expanded:[],variables:[]},{id:10,body:async(e,t,n,r)=>{const i=[...(await e(new URL("data:text/csv;base64,b2JzZXJ2YXRpb25fZGF0ZSxNQU5HU1AKMTk5Ny0wMS0wMSwyMzY0MzUuNgoxOTk4LTAxLTAxLDI0NzY4Ni44CjE5OTktMDEtMDEsMjYyODY4LjgKMjAwMC0wMS0wMSwyODcwOTEuNAoyMDAxLTAxLTAxLDI5NDg3Ni40CjIwMDItMDEtMDEsMjk5OTE1LjgKMjAwMy0wMS0wMSwzMDk3MzYuMQoyMDA0LTAxLTAxLDMyNDkxOS4wCjIwMDUtMDEtMDEsMzQwNjM3LjgKMjAwNi0wMS0wMSwzNTg0MTguMwoyMDA3LTAxLTAxLDM3Nzk4NS42CjIwMDgtMDEtMDEsMzg3OTIzLjQKMjAwOS0wMS0wMSwzODg5NjMuOQoyMDEwLTAxLTAxLDQwOTI3MC4wCjIwMTEtMDEtMDEsNDIzNjg0LjkKMjAxMi0wMS0wMSw0NDEzNzMuOQoyMDEzLTAxLTAxLDQ1MjU4MC40CjIwMTQtMDEtMDEsNDY5ODI0LjkKMjAxNS0wMS0wMSw0OTc3NjcuMAoyMDE2LTAxLTAxLDUxNDEwOC4wCjIwMTctMDEtMDEsNTMwMTI5LjQKMjAxOC0wMS0wMSw1NTk2MDUuMAoyMDE5LTAxLTAxLDU4ODA2OS41CjIwMjAtMDEtMDEsNTkyNjUzLjAKMjAyMS0wMS0wMSw2NDk1MTEuNAoyMDIyLTAxLTAxLDY5NTYxMi4xCjIwMjMtMDEtMDEsNzM2Mjk2LjMKMjAyNC0wMS0wMSw3ODA2NjYuMgo=",import.meta.url).href).csv({typed:!0})).map(s=>({date:s.observation_date,value:s.MANGSP/1e3,source:"FRED"})),...t.years.map((s,a)=>({date:new Date(Date.UTC(s,0,1)),value:t.ma_gdp_millions[a]/1e3,source:"ChatGPT"})),...n.years.map((s,a)=>({date:new Date(Date.UTC(s,0,1)),value:n.maGDP[a],source:"Claude"}))],o=[...(await e(new URL(""+new URL("GDP-BfpHeWsD.csv",import.meta.url).href,import.meta.url).href).csv({typed:!0})).map(s=>({date:s.observation_date,value:s.GDP,source:"FRED"})),...t.years.map((s,a)=>({date:new Date(Date.UTC(s,0,1)),value:t.us_gdp_billions[a],source:"ChatGPT"})),...n.years.map((s,a)=>({date:new Date(Date.UTC(s,0,1)),value:n.usGDP[a],source:"Claude"}))];return r({GDP:o,MANGSP:i}),{MANGSP:i,GDP:o}},inputs:["FileAttachment","chatgpt","claude","display"],outputs:["MANGSP","GDP"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-12"),expanded:[],variables:[]},{id:12,body:(e,t)=>e.plot({title:"MANGSP",marginRight:60,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"$ (billions)"},color:{legend:!0,domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marks:[e.frame({stroke:"#ccc"}),e.lineY(t.filter(n=>n.source==="FRED"),{x:"date",y:"value",strokeWidth:4,strokeDasharray:"3,6",opacity:.3}),e.lineY(t.filter(n=>n.source!=="FRED"),{x:"date",y:"value",stroke:"source"})]}),inputs:["Plot","MANGSP"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-19"),expanded:[],variables:[]},{id:19,body:(e,t,n)=>{function r(i){const o=i.filter(s=>s.source==="FRED");return["ChatGPT","Claude"].flatMap(s=>i.filter(a=>a.source===s).map(a=>({date:a.date,error:a.value-o.find(l=>+l.date==+a.date).value,source:s})))}return e(t.plot({height:160,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"Error"},fy:{label:null},color:{domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marginRight:60,marks:[t.frame({stroke:"#ccc"}),t.ruleY([0],{stroke:"#ccc"}),t.rectY(r(n),{x:"date",y:"error",fy:"source",interval:"year",fill:"source"})]})),{getErrors:r}},inputs:["display","Plot","MANGSP"],outputs:["getErrors"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-13"),expanded:[],variables:[]},{id:13,body:(e,t)=>e.plot({title:"GDP",x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"$ (billions)",tickFormat:".0s"},marginRight:60,color:{legend:!0,domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marks:[e.frame({stroke:"#ccc"}),e.lineY(t.filter(n=>n.source==="FRED"),{x:"date",y:"value",strokeWidth:4,strokeDasharray:"3,6",opacity:.3}),e.lineY(t.filter(n=>n.source!=="FRED"),{x:"date",y:"value",stroke:"source"})]}),inputs:["Plot","GDP"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-15"),expanded:[],variables:[]},{id:15,body:(e,t,n)=>e.plot({height:160,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"Error"},fy:{label:null},color:{domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marginRight:60,marks:[e.frame({stroke:"#ccc"}),e.ruleY([0],{stroke:"#ccc"}),e.rectY(t(n),{x:"date",y:"error",fy:"source",interval:"year",fill:"source"})]}),inputs:["Plot","getErrors","GDP"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-39"),expanded:[],variables:[]},{id:39,body:async(e,t,n,r)=>{const i=[...(await e(new URL("data:text/csv;base64,b2JzZXJ2YXRpb25fZGF0ZSxHRFBBCjE5MjktMDEtMDEsMTA0LjU1NgoxOTMwLTAxLTAxLDkyLjE2MAoxOTMxLTAxLTAxLDc3LjM5MQoxOTMyLTAxLTAxLDU5LjUyMgoxOTMzLTAxLTAxLDU3LjE1NAoxOTM0LTAxLTAxLDY2LjgwMAoxOTM1LTAxLTAxLDc0LjI0MQoxOTM2LTAxLTAxLDg0LjgzMAoxOTM3LTAxLTAxLDkzLjAwMwoxOTM4LTAxLTAxLDg3LjM1MgoxOTM5LTAxLTAxLDkzLjQzNwoxOTQwLTAxLTAxLDEwMi44OTkKMTk0MS0wMS0wMSwxMjkuMzA5CjE5NDItMDEtMDEsMTY1Ljk1MgoxOTQzLTAxLTAxLDIwMy4wODQKMTk0NC0wMS0wMSwyMjQuNDQ3CjE5NDUtMDEtMDEsMjI4LjAwNwoxOTQ2LTAxLTAxLDIyNy41MzUKMTk0Ny0wMS0wMSwyNDkuNjE2CjE5NDgtMDEtMDEsMjc0LjQ2OAoxOTQ5LTAxLTAxLDI3Mi40NzUKMTk1MC0wMS0wMSwyOTkuODI3CjE5NTEtMDEtMDEsMzQ2LjkxNAoxOTUyLTAxLTAxLDM2Ny4zNDEKMTk1My0wMS0wMSwzODkuMjE4CjE5NTQtMDEtMDEsMzkwLjU0OQoxOTU1LTAxLTAxLDQyNS40NzgKMTk1Ni0wMS0wMSw0NDkuMzUzCjE5NTctMDEtMDEsNDc0LjAzOQoxOTU4LTAxLTAxLDQ4MS4yMjkKMTk1OS0wMS0wMSw1MjEuNjU0CjE5NjAtMDEtMDEsNTQyLjM4MgoxOTYxLTAxLTAxLDU2Mi4yMDkKMTk2Mi0wMS0wMSw2MDMuOTIyCjE5NjMtMDEtMDEsNjM3LjQ1MAoxOTY0LTAxLTAxLDY4NC40NjAKMTk2NS0wMS0wMSw3NDIuMjg5CjE5NjYtMDEtMDEsODEzLjQxNAoxOTY3LTAxLTAxLDg1OS45NTkKMTk2OC0wMS0wMSw5NDAuNjUxCjE5NjktMDEtMDEsMTAxNy42MTUKMTk3MC0wMS0wMSwxMDczLjMwMwoxOTcxLTAxLTAxLDExNjQuODUwCjE5NzItMDEtMDEsMTI3OS4xMTAKMTk3My0wMS0wMSwxNDI1LjM3NgoxOTc0LTAxLTAxLDE1NDUuMjQzCjE5NzUtMDEtMDEsMTY4NC45MDQKMTk3Ni0wMS0wMSwxODczLjQxMgoxOTc3LTAxLTAxLDIwODEuODI2CjE5NzgtMDEtMDEsMjM1MS41OTkKMTk3OS0wMS0wMSwyNjI3LjMzMwoxOTgwLTAxLTAxLDI4NTcuMzA3CjE5ODEtMDEtMDEsMzIwNy4wNDEKMTk4Mi0wMS0wMSwzMzQzLjc4OQoxOTgzLTAxLTAxLDM2MzQuMDM4CjE5ODQtMDEtMDEsNDAzNy42MTMKMTk4NS0wMS0wMSw0MzM4Ljk3OQoxOTg2LTAxLTAxLDQ1NzkuNjMxCjE5ODctMDEtMDEsNDg1NS4yMTUKMTk4OC0wMS0wMSw1MjM2LjQzOAoxOTg5LTAxLTAxLDU2NDEuNTgwCjE5OTAtMDEtMDEsNTk2My4xNDQKMTk5MS0wMS0wMSw2MTU4LjEyOQoxOTkyLTAxLTAxLDY1MjAuMzI3CjE5OTMtMDEtMDEsNjg1OC41NTkKMTk5NC0wMS0wMSw3Mjg3LjIzNgoxOTk1LTAxLTAxLDc2MzkuNzQ5CjE5OTYtMDEtMDEsODA3My4xMjIKMTk5Ny0wMS0wMSw4NTc3LjU1MgoxOTk4LTAxLTAxLDkwNjIuODE3CjE5OTktMDEtMDEsOTYzMS4xNzIKMjAwMC0wMS0wMSwxMDI1MC45NTIKMjAwMS0wMS0wMSwxMDU4MS45MjkKMjAwMi0wMS0wMSwxMDkyOS4xMDgKMjAwMy0wMS0wMSwxMTQ1Ni40NTAKMjAwNC0wMS0wMSwxMjIxNy4xOTYKMjAwNS0wMS0wMSwxMzAzOS4xOTcKMjAwNi0wMS0wMSwxMzgxNS41ODMKMjAwNy0wMS0wMSwxNDQ3NC4yMjgKMjAwOC0wMS0wMSwxNDc2OS44NjIKMjAwOS0wMS0wMSwxNDQ3OC4wNjcKMjAxMC0wMS0wMSwxNTA0OC45NzEKMjAxMS0wMS0wMSwxNTU5OS43MzIKMjAxMi0wMS0wMSwxNjI1My45NzAKMjAxMy0wMS0wMSwxNjg4MC42ODMKMjAxNC0wMS0wMSwxNzYwOC4xMzgKMjAxNS0wMS0wMSwxODI5NS4wMTkKMjAxNi0wMS0wMSwxODgwNC45MTMKMjAxNy0wMS0wMSwxOTYxMi4xMDIKMjAxOC0wMS0wMSwyMDY1Ni41MTYKMjAxOS0wMS0wMSwyMTUzOS45ODIKMjAyMC0wMS0wMSwyMTM1NC4xMDUKMjAyMS0wMS0wMSwyMzY4MS4xNzEKMjAyMi0wMS0wMSwyNjAwNi44OTMKMjAyMy0wMS0wMSwyNzcyMC43MDkKMjAyNC0wMS0wMSwyOTE4NC44OTAK",import.meta.url).href).csv({typed:!0})).map(o=>({date:o.observation_date,value:o.GDPA,source:"FRED"})),...t.years.map((o,s)=>({date:new Date(Date.UTC(o,0,1)),value:t.us_gdp_billions[s],source:"ChatGPT"})),...n.years.map((o,s)=>({date:new Date(Date.UTC(o,0,1)),value:n.usGDP[s],source:"Claude"}))];return r({GDPA:i}),{GDPA:i}},inputs:["FileAttachment","chatgpt","claude","display"],outputs:["GDPA"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-37"),expanded:[],variables:[]},{id:37,body:(e,t)=>e.plot({title:"GDPA",x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"$ (billions)",tickFormat:".0s"},marginRight:60,color:{legend:!0,domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marks:[e.frame({stroke:"#ccc"}),e.lineY(t.filter(n=>n.source==="FRED"),{x:"date",y:"value",strokeWidth:4,strokeDasharray:"3,6",opacity:.3}),e.lineY(t.filter(n=>n.source!=="FRED"),{x:"date",y:"value",stroke:"source"})]}),inputs:["Plot","GDPA"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-38"),expanded:[],variables:[]},{id:38,body:(e,t,n)=>e.plot({height:160,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"Error"},fy:{label:null},color:{domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marginRight:60,marks:[e.frame({stroke:"#ccc"}),e.ruleY([0],{stroke:"#ccc"}),e.rectY(t(n),{x:"date",y:"error",fy:"source",interval:"year",fill:"source"})]}),inputs:["Plot","getErrors","GDPA"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-23"),expanded:[],variables:[]},{id:23,body:(e,t,n)=>{const r=["FRED","Claude","ChatGPT"].flatMap(i=>e.filter(o=>o.source===i).map(o=>({source:i,date:o.date,value:o.value/t.find(s=>+s.date==+o.date&&s.source===i).value})));return n(r),{ratio:r}},inputs:["MANGSP","GDPA","display"],outputs:["ratio"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-27"),expanded:[],variables:[]},{id:27,body:(e,t)=>e.plot({title:"Ratio of Massachusetts GDP to U.S. GDP",x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{tickFormat:"%",label:null},marginRight:60,color:{legend:!0,domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marks:[e.frame({stroke:"#ccc"}),e.lineY(t.filter(n=>n.source==="FRED"),{x:"date",y:"value",stroke:"source",strokeWidth:4,strokeDasharray:"3,6",opacity:.3}),e.lineY(t.filter(n=>n.source!=="FRED"),{x:"date",y:"value",stroke:"source"})]}),inputs:["Plot","ratio"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-28"),expanded:[],variables:[]},{id:28,body:(e,t,n)=>e.plot({height:160,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{label:"Error"},fy:{label:null},color:{domain:["FRED","ChatGPT","Claude"],range:["black","#0f9e7b","#d37354"]},marginRight:60,marks:[e.frame({stroke:"#ccc"}),e.ruleY([0],{stroke:"#ccc"}),e.rectY(t(n),{x:"date",y:"error",fy:"source",interval:"year",fill:"source"})]}),inputs:["Plot","getErrors","ratio"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-32"),expanded:[],variables:[]},{id:32,body:async(e,t)=>e`ChatGPT’s manual transcription of both sides of the ratio appears to have been perfect. Claude’s was not; maybe it was just looking at yet another different methodology, but I think it was just wrong.

So far we’ve only looked at the correctness of the data. Given the data, did Claude and ChatGPT plot them correctly? Overlaying our versions suggests they did (which is hard to see, since the lines match so well):

<table>
  <thead>
    <tr>
      <th style="text-align: center;"><a href="https://claude.ai/share/6c4602d1-3aad-4e67-9a49-72b23774acb6">Claude</a></th>
      <th style="text-align: center;"><a href="https://chatgpt.com/share/689e7d77-f8dc-800b-8c9d-7f0b03587306">ChatGPT</a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src=${await t(new URL(""+new URL("claude-overlaid-DBkTg4-i.png",import.meta.url).href,import.meta.url).href).url()} /></td>
      <td><img src=${await t(new URL(""+new URL("chatgpt-overlaid-C7ZpoGZI.png",import.meta.url).href,import.meta.url).href).url()} /></td>
    </tr>
  </tbody>
</table>

So, the verdict is: ChatGPT was correct. Claude’s code was correct, but its “manual” transcription of the data it found introduced significant errors. (Recall that it seems to have converted millions to billions on the fly for the Massachusetts number; maybe that mental math increased errors.) Some may say this gives them confidence in ChatGPT. But for me, the divergent answers, and the amount of work it took to validate them, also confirms doubts about the quality of LLMs for data analysis.

Interestingly, although ChatGPT and Claude wrote very different code for making their charts, both solutions were effectively equivalent and correct. We have not had to discuss them here because they worked fine. I think that makes intuitive sense; there’s far more entropy in the time series than in the code; the code is far more internally verifiable from first principles.

If the LLMs were instead only supplying the data transformation and rendering code, and the data were fed in from a “lossless” and deterministic source, would you trust an LLM with this analysis? I don’t know. In this case it seems like they’d get it right.

But they seem to make methodological choices without recognizing, acknowledging, or communicating their significance. Claude left a comment as if the U.S. GDP numbers were in trillions, which was wrong. ChatGPT quietly switched from using seasonally adjusted numbers to non-adjusted numbers. Neither tried using real dollars. I actually wouldn’t expect real vs. nominal to make a difference in a ratio, but using the FRED data, it does seem to:`,inputs:["md","FileAttachment"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:void 0,automutable:void 0});M({root:document.getElementById("cell-34"),expanded:[],variables:[]},{id:34,body:async(e,t,n,r,i,o,s)=>{const a=(await e(new URL(""+new URL("GDPC1-CX8VNmQK.csv",import.meta.url).href,import.meta.url).href).csv({typed:!0})).map(f=>({date:f.observation_date,value:f.GDPC1})),l=(await e(new URL("data:text/csv;base64,b2JzZXJ2YXRpb25fZGF0ZSxNQVJRR1NQCjIwMDUtMDEtMDEsNDEzNTQ2LjEKMjAwNS0wNC0wMSw0MTQ2NDEuMQoyMDA1LTA3LTAxLDQxOTM4MC41CjIwMDUtMTAtMDEsNDIwNzM0LjcKMjAwNi0wMS0wMSw0MjM5MjMuOAoyMDA2LTA0LTAxLDQyNjA5My4zCjIwMDYtMDctMDEsNDI0NzI1LjUKMjAwNi0xMC0wMSw0MzI5NjEuOQoyMDA3LTAxLTAxLDQzMzQ4Mi4zCjIwMDctMDQtMDEsNDM3MzQwLjcKMjAwNy0wNy0wMSw0NDI5MzkuOQoyMDA3LTEwLTAxLDQ0NzczMi41CjIwMDgtMDEtMDEsNDUwMTYzLjUKMjAwOC0wNC0wMSw0NTM3MzMuMAoyMDA4LTA3LTAxLDQ0NzkxMS44CjIwMDgtMTAtMDEsNDM4Mjk4LjgKMjAwOS0wMS0wMSw0Mzg0NTQuNwoyMDA5LTA0LTAxLDQzODQyOS44CjIwMDktMDctMDEsNDQxOTU5LjQKMjAwOS0xMC0wMSw0NDYzODYuNAoyMDEwLTAxLTAxLDQ1MzQ5My44CjIwMTAtMDQtMDEsNDYwMTMzLjgKMjAxMC0wNy0wMSw0Njc4NzEuMgoyMDEwLTEwLTAxLDQ2NzgyNC4yCjIwMTEtMDEtMDEsNDYzMDgyLjMKMjAxMS0wNC0wMSw0Nzc2OTUuOQoyMDExLTA3LTAxLDQ3MTE4MC42CjIwMTEtMTAtMDEsNDc4Njk4LjIKMjAxMi0wMS0wMSw0Nzk4NjUuOQoyMDEyLTA0LTAxLDQ4NDQzOC40CjIwMTItMDctMDEsNDg1NTgwLjUKMjAxMi0xMC0wMSw0ODMyNjAuNQoyMDEzLTAxLTAxLDQ4NDE0MC4wCjIwMTMtMDQtMDEsNDg0NDUyLjIKMjAxMy0wNy0wMSw0ODg3ODkuNwoyMDEzLTEwLTAxLDQ5MDU4NS4yCjIwMTQtMDEtMDEsNDg3NDAxLjEKMjAxNC0wNC0wMSw0OTE2MTkuNAoyMDE0LTA3LTAxLDQ5OTUxOS43CjIwMTQtMTAtMDEsNTA2NDYzLjUKMjAxNS0wMS0wMSw1MDk0NDcuOAoyMDE1LTA0LTAxLDUxNTA1OC43CjIwMTUtMDctMDEsNTE0MDA0LjEKMjAxNS0xMC0wMSw1MTkwODQuNAoyMDE2LTAxLTAxLDUxNzQzNi41CjIwMTYtMDQtMDEsNTIwNDg4LjIKMjAxNi0wNy0wMSw1MjUzNTUuMwoyMDE2LTEwLTAxLDUyMzM3MS4xCjIwMTctMDEtMDEsNTIzMzYzLjAKMjAxNy0wNC0wMSw1MjcyNDAuMAoyMDE3LTA3LTAxLDUzMjI4Mi40CjIwMTctMTAtMDEsNTM3NjMyLjQKMjAxOC0wMS0wMSw1NDQyNTUuOQoyMDE4LTA0LTAxLDU0ODY2MS4xCjIwMTgtMDctMDEsNTUxMTk5LjQKMjAxOC0xMC0wMSw1NTI5MzEuOAoyMDE5LTAxLTAxLDU1OTEzOS4xCjIwMTktMDQtMDEsNTYyODY2LjYKMjAxOS0wNy0wMSw1Njk4NzAuMwoyMDE5LTEwLTAxLDU3MzQzMS4yCjIwMjAtMDEtMDEsNTczMjU3LjYKMjAyMC0wNC0wMSw1MjU4ODguNgoyMDIwLTA3LTAxLDU2NDE3MS41CjIwMjAtMTAtMDEsNTc1NzQyLjMKMjAyMS0wMS0wMSw1ODExNTEuOQoyMDIxLTA0LTAxLDU5MzA3OC4yCjIwMjEtMDctMDEsNjAzMDM0LjEKMjAyMS0xMC0wMSw2MDYzODIuOQoyMDIyLTAxLTAxLDYwNDQ1Ni41CjIwMjItMDQtMDEsNjA2NTQ3LjAKMjAyMi0wNy0wMSw2MDQ4MzguMQoyMDIyLTEwLTAxLDYxNjM2OS45CjIwMjMtMDEtMDEsNjExMzMyLjIKMjAyMy0wNC0wMSw2MTM4MzYuNwoyMDIzLTA3LTAxLDYxNjUyNC41CjIwMjMtMTAtMDEsNjIwMzI0LjcKMjAyNC0wMS0wMSw2Mjg4NjcuMwoyMDI0LTA0LTAxLDYzMTc3MC40CjIwMjQtMDctMDEsNjM1NDA4LjYKMjAyNC0xMC0wMSw2Mzg0MjQuMgoyMDI1LTAxLTAxLDYzNjk4MC4wCg==",import.meta.url).href).csv({typed:!0})).map(f=>({date:f.observation_date,value:f.MARQGSP/1e3})),u=l.map(f=>({definition:"Real dollars",date:f.date,value:f.value/a.find(w=>+w.date==+f.date).value})),c=t.filter(f=>f.source==="FRED").map(f=>({definition:"Nominal, seasonally adjusted",date:f.date,value:f.value/n.find(w=>+w.date==+f.date).value})),d=r.filter(f=>f.source==="FRED").map(f=>({...f,definition:"Nominal, not seasonally adjusted"}));return i(o.plot({width:s,x:{domain:[new Date(Date.UTC(1997,0,1)),new Date(Date.UTC(2025,0,1))],grid:!0},y:{tickFormat:"%",label:null},fx:{label:null},marks:[o.frame({stroke:"#ccc"}),o.lineY([...u,...c,...d],{x:"date",y:"value",fx:"definition"})]})),{GDPC1:a,MARQGSP:l,ratioReal:u,ratioSeasonallyAdjusted:c,ratioNonSeasonally:d}},inputs:["FileAttachment","MANGSP","GDP","ratio","display","Plot","width"],outputs:["GDPC1","MARQGSP","ratioReal","ratioSeasonallyAdjusted","ratioNonSeasonally"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});export{p as _};
